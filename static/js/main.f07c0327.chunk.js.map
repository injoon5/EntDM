{"version":3,"sources":["components/Nav.tsx","pages/Login.tsx","pages/Main.tsx","components/ChatList.jsx","components/ChatBox.jsx","pages/Chat.jsx","Routes.js","App.tsx","index.tsx"],"names":["Nav","props","show","className","onClick","window","localStorage","removeItem","location","reload","Login","state","username","password","this","axios","get","then","res","data","setItem","alert","getItem","id","onChange","e","setState","target","value","a","login","React","Component","Main","showLogout","console","log","to","i","chats","map","chat","key","message","text","handleTextChange","type","placeholder","onKeyDown","Chat","document","querySelector","style","height","clientHeight","Pusher","cluster","subscribe","bind","test","keyCode","payload","post","Routes","exact","path","component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f07c0327.chunk.js","sourcesContent":["import React from 'react';\nimport './Nav.scss';\n\nconst logout = () => {\n  window.localStorage.removeItem('username');\n  window.location.reload();\n};\n\nconst Nav = (props: any) => {\n  if (props.show) {\n    return (\n      <div className=\"nav\">\n        <h1>EntDM</h1>\n        <h3>by BloKode</h3>\n        <button className=\"logout\" onClick={() => logout()}>\n          로그아웃\n        </button>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"nav\">\n        <h1>EntDM</h1>\n        <h3>by BloKode</h3>\n      </div>\n    );\n  }\n};\n\nexport default Nav;\n","import React from 'react';\nimport axios from 'axios';\n\nclass Login extends React.Component<{}, { username: any; password: any }> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n  async login() {\n    const { username, password } = this.state;\n    axios\n      .get(\n        `http://150.136.22.110:9999/login?username=${username}&password=${password}`\n      )\n      .then((res) => res.data)\n      .then((data) => {\n        if (data) {\n          window.localStorage.setItem('username', username);\n          window.location.reload()\n        } else {\n          alert('아이디 또는 비밀번호가 일치하지 않습니다.')\n        }\n      });\n  }\n  render() {\n    if (window.localStorage.getItem('username') != null) {\n      return <></>;\n    } else {\n      return (\n        <>\n          <div className=\"dim\"></div>\n          <div className=\"container\">\n            <div className=\"test\">\n              <div className=\"loginWrapperIH\">\n                <div className=\"loginBoxTitle\">엔트리 계정으로 로그인</div>\n                <div className=\"loginBoxContent\">\n                  <form>\n                    <div className=\"loginBoxFormWrapper\">\n                      <span className=\"loginBoxSpan loginBoxId\">아이디</span>\n                      <input\n                        id=\"name\"\n                        className=\"loginBoxInput loginBoxInputId\"\n                        onChange={(e) =>\n                          this.setState({ username: e.target.value })\n                        }\n                      />\n                      <div className=\"eeeeee\"></div>\n                      <span className=\"loginBoxSpan loginBoxPassword\">\n                        비밀번호 입력\n                      </span>\n                      <input\n                        id=\"password\"\n                        className=\"loginBoxInput loginBoxInputPassword\"\n                        onChange={(e) =>\n                          this.setState({ password: e.target.value })\n                        }\n                      />\n                      <div\n                        className=\"entryConfirmButton loginBoxConfirm\"\n                        onClick={async () => await this.login()}\n                      >\n                        로그인\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Nav from '../components/Nav';\nimport Login from './Login';\n\nclass Main extends React.Component<{}, { show: boolean, showLogout: boolean }> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      show: false,\n      showLogout: false,\n    };\n  }\n  componentDidMount() {\n    if (window.localStorage.getItem('username') != null) {\n      this.setState({ showLogout: true });\n    }\n  }\n  show() {\n    this.setState({ show: true });\n    console.log(this.state.show)\n  }\n  hide() {\n    this.setState({ show: false });\n    console.log(this.state.show)\n  }\n  render() {\n    return (\n      <>\n        <div className=\"container\">\n          <Nav show={this.state.showLogout} />\n          <Login />\n          <Link to=\"/chat\">\n            <button className=\"start\">시작하기</button>\n          </Link>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Main;\n","import React from 'react';\nimport './ChatList.css';\n\nlet i = 0;\nexport default ({ chats }) => (\n  <ul id=\"chatList\">\n    {chats.map((chat) => {\n      ++i;\n      return (\n        <div id=\"chat\" key={i}>\n          <div className=\"name\">{chat.username}</div>\n          <div className=\"message\">{chat.message}</div>\n        </div>\n      );\n    })}\n  </ul>\n);\n","import React from 'react';\nimport './ChatBox.css';\nexport default ({ text, username, handleTextChange }) => (\n  <div>\n    <div className=\"row\">\n      <div className=\"col-xs-12\">\n        <div className=\"chat\">\n          <div className=\"col-xs-5 col-xs-offset-3\">\n            <input\n              id=\"message\"\n              type=\"text\"\n              value={text}\n              placeholder=\"메시지 보내기\"\n              className=\"form-control\"\n              onChange={handleTextChange}\n              onKeyDown={handleTextChange}\n            />\n          </div>\n          <div className=\"clearfix\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n","import React from 'react';\nimport axios from 'axios';\nimport Pusher from 'pusher-js';\nimport ChatList from '../components/ChatList';\nimport ChatBox from '../components/ChatBox';\nimport Nav from '../components/Nav';\n\nclass Chat extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      username: '',\n      chats: [],\n    };\n  }\n  componentDidMount() {\n    document.querySelector('#chatList').style.height = `calc(calc(100vh - ${(document.querySelector('.nav').clientHeight + document.querySelector('#message').clientHeight) * 2 }px) - .5rem)`\n    const username = window.localStorage.getItem('username');\n    this.setState({ username });\n    const pusher = new Pusher('6020992ef0fa881450d0', {\n      cluster: 'ap3',\n    });\n    const channel = pusher.subscribe('chat');\n    channel.bind('message', (data) => {\n      this.setState({ chats: [...this.state.chats, data], test: '' });\n    });\n    this.handleTextChange = this.handleTextChange.bind(this);\n  }\n\n  handleTextChange(e) {\n    if (e.keyCode === 13) {\n      const payload = {\n        username: this.state.username,\n        message: this.state.text,\n      };\n      axios\n        .post('http://150.136.22.110:9999/message', payload)\n        .then(() => this.setState({ text: '' }));\n    } else {\n      this.setState({ text: e.target.value });\n    }\n  }\n  render() {\n    return (\n      <>\n        <div className=\"container\">\n          <Nav />\n          <section>\n            <ChatList chats={this.state.chats} />\n            <ChatBox\n              text={this.state.text}\n              username={this.state.username}\n              handleTextChange={this.handleTextChange}\n            />\n          </section>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Chat;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport Main from './pages/Main';\nimport Chat from './pages/Chat';\nimport Login from './pages/Login';\n\nclass Routes extends React.Component {\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Main}></Route>\n          <Route exact path=\"/chat\" component={Chat}></Route>\n          <Route exact path=\"/login\" component={Login}></Route>\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default Routes;\n","import React from 'react';\nimport Routes from './Routes';\nimport './App.scss';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <>\n        <Routes />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}