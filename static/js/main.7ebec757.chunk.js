(this.webpackJsonpentdm=this.webpackJsonpentdm||[]).push([[0],{32:function(e,t,a){e.exports=a(64)},37:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),s=a(5),o=a(6),i=a(7),u=a(8),m=a(12),h=a(1),d=(a(37),function(e){return e.show?r.a.createElement("div",{className:"nav"},r.a.createElement("h1",null,"EntDM"),r.a.createElement("h3",null,"by BloKode"),r.a.createElement("button",{className:"logout",onClick:function(){return window.localStorage.removeItem("username"),void window.location.reload()}},"\ub85c\uadf8\uc544\uc6c3")):r.a.createElement("div",{className:"nav"},r.a.createElement("h1",null,"EntDM"),r.a.createElement("h3",null,"by BloKode"))}),v=a(10),g=a.n(v),p=a(14),E=a(11),f=a.n(E),w=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n}return Object(o.a)(a,[{key:"login",value:function(){var e=Object(p.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,a=t.username,n=t.password,f.a.get("http://150.136.22.110:9999/login?username=".concat(a,"&password=").concat(n)).then((function(e){return e.data})).then((function(e){e?(window.localStorage.setItem("username",a),window.location.reload()):alert("\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return null!=window.localStorage.getItem("username")?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dim"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"test"},r.a.createElement("div",{className:"loginWrapperIH"},r.a.createElement("div",{className:"loginBoxTitle"},"\uc5d4\ud2b8\ub9ac \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"),r.a.createElement("div",{className:"loginBoxContent"},r.a.createElement("form",null,r.a.createElement("div",{className:"loginBoxFormWrapper"},r.a.createElement("span",{className:"loginBoxSpan loginBoxId"},"\uc544\uc774\ub514"),r.a.createElement("input",{id:"name",className:"loginBoxInput loginBoxInputId",onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("div",{className:"eeeeee"}),r.a.createElement("span",{className:"loginBoxSpan loginBoxPassword"},"\ube44\ubc00\ubc88\ud638 \uc785\ub825"),r.a.createElement("input",{id:"password",className:"loginBoxInput loginBoxInputPassword",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("div",{className:"entryConfirmButton loginBoxConfirm",onClick:Object(p.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.login();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},"\ub85c\uadf8\uc778"))))))))}}]),a}(r.a.Component),x=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={show:!1,showLogout:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){null!=window.localStorage.getItem("username")&&this.setState({showLogout:!0})}},{key:"show",value:function(){this.setState({show:!0}),console.log(this.state.show)}},{key:"hide",value:function(){this.setState({show:!1}),console.log(this.state.show)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(d,{show:this.state.showLogout}),r.a.createElement(w,null),r.a.createElement(m.b,{to:"/chat"},r.a.createElement("button",{className:"start"},"\uc2dc\uc791\ud558\uae30"))))}}]),a}(r.a.Component),b=a(31),N=a(30),y=a.n(N),j=(a(61),0),O=function(e){var t=e.chats;return r.a.createElement("ul",{id:"chatList"},t.map((function(e){return++j,r.a.createElement("div",{id:"chat",key:j},r.a.createElement("div",{className:"name"},e.username),r.a.createElement("div",{className:"message"},e.message))})))},C=(a(62),function(e){var t=e.text,a=(e.username,e.handleTextChange);return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"chat"},r.a.createElement("div",{className:"col-xs-5 col-xs-offset-3"},r.a.createElement("input",{id:"message",type:"text",value:t,placeholder:"\uba54\uc2dc\uc9c0 \ubcf4\ub0b4\uae30",className:"form-control",onChange:a,onKeyDown:a})),r.a.createElement("div",{className:"clearfix"})))))}),S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={text:"",username:"",chats:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.querySelector("#chatList").style.height="calc(calc(100vh - ".concat(2*(document.querySelector(".nav").clientHeight+document.querySelector("#message").clientHeight),"px) - .5rem)");var t=window.localStorage.getItem("username");this.setState({username:t}),new y.a("6020992ef0fa881450d0",{cluster:"ap3"}).subscribe("chat").bind("message",(function(t){e.setState({chats:[].concat(Object(b.a)(e.state.chats),[t]),test:""})})),this.handleTextChange=this.handleTextChange.bind(this)}},{key:"handleTextChange",value:function(e){var t=this;if(13===e.keyCode){var a={username:this.state.username,message:this.state.text};f.a.post("http://150.136.22.110:9999/message",a).then((function(){return t.setState({text:""})}))}else this.setState({text:e.target.value})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(d,null),r.a.createElement("section",null,r.a.createElement(O,{chats:this.state.chats}),r.a.createElement(C,{text:this.state.text,username:this.state.username,handleTextChange:this.handleTextChange}))))}}]),a}(r.a.Component),k=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"/EntDM"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:x}),r.a.createElement(h.a,{exact:!0,path:"/chat",component:S}),r.a.createElement(h.a,{exact:!0,path:"/login",component:w})))}}]),a}(r.a.Component),B=(a(63),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null))}}]),a}(r.a.Component));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.7ebec757.chunk.js.map